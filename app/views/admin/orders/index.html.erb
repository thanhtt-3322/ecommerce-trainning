


<div class="container mt-4">
  <div class="d-flex justify-content-between align-items-center mb-3">
    <h2>List of Orders</h2>
    <%= form_with url: admin_orders_path do |form| %>
      <%= form.select :status, options_for_select(options_for_select(status_order_selection)), {   }, class: "form-select", onchange: "this.form.submit();" %>
    <% end %>
  </div>
</div>





<div class="row">
  <div class="col-md-3">
    <h4>Order status</h4>
    <ul class="list-group">
      <% Order.statuses.keys.each do | status | %>
        <li class="list-group-item"><%= link_to t("display.order_status.#{status}"), orders_path(status: status), class: "text-decoration-none text-black" %></li>
      <% end %>
      <li class="list-group-item"><%= link_to "All", orders_path, class: "text-decoration-none text-black" %></li>
    </ul>
  </div>

<div class="table-responsive">
  <table class="table table-striped">
    <thead>
      <tr>
        <th>Order ID</th>
        <th>Customer</th>
        <th>Order Date</th>
        <th>Total</th>
        <th>Status</th>
        <th>Action</th>
      </tr>
    </thead>
    <tbody>
      <% @orders.each do |order| %>
        <tr>
          <td><%= order.id %></td>
          <td><%= order.user.name %></td>
          <td><%= order.created_at.strftime("%B %d, %Y %I:%M %p") %></td>
          <td><%= number_to_currency(order.total_price) %></td>
          <td>
            <span class="badge text-bg-<%= status_badge order.status %> mb-3"><%= t("display.order_status.#{order.status}") %></span>
          </td>
          <td>
            <%= link_to "Edit", admin_orders_path(order), class: "btn btn-primary btn-sm" %>
          </td>
        </tr>
      <% end %>
    </tbody>
  </table>
</div>