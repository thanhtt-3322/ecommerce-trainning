<div class="container mt-4">
  <div class="d-flex justify-content-between align-items-center mb-3">
    <h2>List of Orders</h2>
    <%= form_with url: admin_orders_path, method: :get do |form| %>
      <%= form.select :status, options_for_select(options_for_select(status_order_selection)), {  prompt: "Select Status" }, class: "form-select", onchange: "this.form.submit();" %>
    <% end %>
  </div>
</div>
<table class="table table-striped">
  <thead>
    <tr>
      <th>Order ID</th>
      <th>Customer</th>
      <th>Order Date</th>
      <th>Total</th>
      <th>Status</th>
      <th>Action</th>
    </tr>
  </thead>
  <tbody>
    <% @orders.each do |order| %>
      <tr>
        <td><%= order.id %></td>
        <td><%= order.user.name %></td>
        <td><%= order.created_at.strftime("%B %d, %Y %I:%M %p") %></td>
        <td><%= number_to_currency(order.total_price) %></td>
        <td>
          <span class="badge text-bg-<%= status_badge order.status %> mb-3"><%= t("display.order_status.#{order.status}") %></span>
        </td>
        <td>
          <%= link_to "Details", edit_admin_order_path(order), class: "btn btn-primary btn-sm" %>
        </td>
      </tr>
    <% end %>
  </tbody>
</table>
<%== pagy_bootstrap_nav(@pagy) %>
